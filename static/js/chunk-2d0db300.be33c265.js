(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0db300"],{"6f93":function(t,e,s){"use strict";s.r(e);var l=s("be94"),r=(s("4ca3"),s("450d"),s("443e")),i=s.n(r),n=s("2ef0"),c=s("2f62"),a=s("b55f"),h=s("73eb"),o=s("01a8"),d={name:"d2-layout-header-aside-menu-header",mixins:[a.a],components:{Menu:i.a,"d2-layout-header-aside-menu-item":h.a,"d2-layout-header-aside-menu-sub":o.a},computed:Object(l.a)({},Object(c.e)("d2admin/menu",["header"])),data:()=>({active:"",isScroll:!1,scrollWidth:0,contentWidth:0,currentTranslateX:0,throttledCheckScroll:null}),watch:{$route:{handler(t){let e=t.fullPath;this.active=e},immediate:!0}},methods:{scroll(t){"left"===t?this.currentTranslateX=0:2*this.contentWidth-this.currentTranslateX<=this.scrollWidth?this.currentTranslateX-=this.contentWidth:this.currentTranslateX=this.contentWidth-this.scrollWidth},checkScroll(){let t=this.$refs.content.clientWidth,e=this.$refs.scroll.clientWidth;this.isScroll&&(this.contentWidth-this.scrollWidth===this.currentTranslateX&&(this.currentTranslateX=t-e,this.currentTranslateX>0&&(this.currentTranslateX=0)),this.contentWidth=t,this.scrollWidth=e,t>e&&(this.isScroll=!1)),!this.isScroll&&t<e&&(this.isScroll=!0,this.$nextTick(()=>{t=this.$refs.content.clientWidth,e=this.$refs.scroll.clientWidth,this.contentWidth=t,this.scrollWidth=e,this.currentTranslateX=0}))}},mounted(){this.checkScroll(),this.throttledCheckScroll=Object(n.throttle)(this.checkScroll,300),window.addEventListener("resize",this.throttledCheckScroll)},beforeDestroy(){window.removeEventListener("resize",this.throttledCheckScroll)}},u=s("2877"),f=Object(u.a)(d,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"page",staticClass:"d2-theme-header-menu",class:{"is-scrollable":t.isScroll},attrs:{flex:"cross:center"}},[s("div",{ref:"content",staticClass:"d2-theme-header-menu__content",attrs:{"flex-box":"1",flex:""}},[s("div",{ref:"scroll",staticClass:"d2-theme-header-menu__scroll",style:"transform: translateX("+t.currentTranslateX+"px);",attrs:{"flex-box":"0"}},[s("Menu",{attrs:{mode:"horizontal","default-active":t.active},on:{select:t.handleMenuSelect}},[t._l(t.header,function(t,e){return[void 0===t.children?s("d2-layout-header-aside-menu-item",{key:e,attrs:{menu:t}}):s("d2-layout-header-aside-menu-sub",{key:e,attrs:{menu:t}})]})],2)],1)]),t.isScroll?s("div",{staticClass:"d2-theme-header-menu__prev",attrs:{"flex-box":"0",flex:"main:center cross:center"},on:{click:function(e){t.scroll("left")}}},[s("i",{staticClass:"el-icon-arrow-left"})]):t._e(),t.isScroll?s("div",{staticClass:"d2-theme-header-menu__next",attrs:{"flex-box":"0",flex:"cross:center"},on:{click:function(e){t.scroll("right")}}},[s("i",{staticClass:"el-icon-arrow-right"})]):t._e()])},[],!1,null,null,null);f.options.__file="index.vue";e.default=f.exports}}]);